<template>
  <button class="view-switch" @click="switchView">
    <div
      class="view-switch__active"
      :class="{ left: route.name === 'ListView', right: route.name === 'CardsView' }"
    />
    <div class="view-switch__wrapper">
      <svg
        width="19px"
        height="16px"
        viewBox="0 0 19 16"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g transform="translate(-612.000000, -2106.000000)">
            <g transform="translate(100.000000, 1960.000000)">
              <g transform="translate(510.000000, 142.000000)">
                <g>
                  <polygon points="0 0 24 0 24 24 0 24" />
                  <path
                    d="M4,10.5 C3.17,10.5 2.5,11.17 2.5,12 C2.5,12.83 3.17,13.5 4,13.5 C4.83,13.5 5.5,12.83 5.5,12 C5.5,11.17 4.83,10.5 4,10.5 Z M4,4.5 C3.17,4.5 2.5,5.17 2.5,6 C2.5,6.83 3.17,7.5 4,7.5 C4.83,7.5 5.5,6.83 5.5,6 C5.5,5.17 4.83,4.5 4,4.5 Z M4,16.5 C3.17,16.5 2.5,17.18 2.5,18 C2.5,18.82 3.18,19.5 4,19.5 C4.82,19.5 5.5,18.82 5.5,18 C5.5,17.18 4.83,16.5 4,16.5 Z M8,19 L20,19 C20.55,19 21,18.55 21,18 C21,17.45 20.55,17 20,17 L8,17 C7.45,17 7,17.45 7,18 C7,18.55 7.45,19 8,19 Z M8,13 L20,13 C20.55,13 21,12.55 21,12 C21,11.45 20.55,11 20,11 L8,11 C7.45,11 7,11.45 7,12 C7,12.55 7.45,13 8,13 Z M7,6 C7,6.55 7.45,7 8,7 L20,7 C20.55,7 21,6.55 21,6 C21,5.45 20.55,5 20,5 L8,5 C7.45,5 7,5.45 7,6 Z"
                    fill="#ffffff"
                  />
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
    <div class="view-switch__wrapper">
      <svg
        width="21px"
        height="20px"
        viewBox="0 0 21 20"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g transform="translate(-99.000000, -200.000000)" fill="#ffffff">
            <g transform="translate(56.000000, 160.000000)">
              <path
                d="M60.85,51 L57.7,51 C55.96015,51 54.55,52.343 54.55,54 L54.55,57 C54.55,58.657 55.96015,60 57.7,60 L60.85,60 C62.58985,60 64,58.657 64,57 L64,54 C64,52.343 62.58985,51 60.85,51 M49.3,51 L46.15,51 C44.41015,51 43,52.343 43,54 L43,57 C43,58.657 44.41015,60 46.15,60 L49.3,60 C51.03985,60 52.45,58.657 52.45,57 L52.45,54 C52.45,52.343 51.03985,51 49.3,51 M60.85,40 L57.7,40 C55.96015,40 54.55,41.343 54.55,43 L54.55,46 C54.55,47.657 55.96015,49 57.7,49 L60.85,49 C62.58985,49 64,47.657 64,46 L64,43 C64,41.343 62.58985,40 60.85,40 M52.45,43 L52.45,46 C52.45,47.657 51.03985,49 49.3,49 L46.15,49 C44.41015,49 43,47.657 43,46 L43,43 C43,41.343 44.41015,40 46.15,40 L49.3,40 C51.03985,40 52.45,41.343 52.45,43"
              />
            </g>
          </g>
        </g>
      </svg>
    </div>
  </button>
</template>

<script setup lang="ts">
import router from '@/router'
import { watch } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()

watch(() => route.name, () => {
  console.log('as', route.name)
})

const switchView = () => {
  if (route.name === 'ListView') {
    router.push('/cards')
  } else {
    router.push('/')
  }
}
</script>

<style scoped lang="scss">
.view-switch {
  height: 35px;
  width: 80px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: none;
  border-radius: 8px;
  background: #141414;
  cursor: pointer;
  &__active {
    height: 35px;
    width: 40px;
    position: absolute;
    border-radius: 8px;
    background: #2e2e2e;
    z-index: 0;
    transition: all 0.2s ease-in-out;
    &.left {
      transform: translateX(0%);
    }
    &.right {
      transform: translateX(100%);
    }
  }
  &__wrapper {
    height: 35px;
    width: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
}
svg {
  z-index: 1;
}
</style>
